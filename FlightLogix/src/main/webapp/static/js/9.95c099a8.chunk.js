(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[9],{658:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Je}));var a=n(36),c=n.n(a),r=n(46),i=n(21),o=n(14),s=n(37),j=n(0),l=n.n(j),d=n(13),b=n(104),h=n(106),O=n(643),x=n(670),u=n(107),p=n(108),g=n(620),m=n(611),f=n(633),v=n(622),S=n(612),y=n(614),k=n(84),w=n(362),B=n(286),N=n.n(B),C=n(287),M=n.n(C),T=n(338),D=n(628),I=n(629),F=n(630),A=n(273),P=n.n(A),E=n(38),L=n(274),R=n.n(L),H=n(275),J=n.n(H),W=n(276),z=n.n(W),G=n(277),U=n.n(G),V=n(278),K=n.n(V),X=n(2),Y=Object(X.jsxs)("div",{children:[Object(X.jsx)(E.b,{to:"/home",activeStyle:{fontWeight:"bold",color:"#F4B400",textDecoration:"none"},children:Object(X.jsxs)(D.a,{button:!0,children:[Object(X.jsx)(I.a,{children:Object(X.jsx)(P.a,{})}),Object(X.jsx)(F.a,{primary:"Dashboard"})]})}),Object(X.jsx)(E.b,{to:"/viewusers",activeStyle:{fontWeight:"bold",color:"#F4B400",textDecoration:"none"},children:Object(X.jsxs)(D.a,{button:!0,children:[Object(X.jsx)(I.a,{children:Object(X.jsx)(R.a,{})}),Object(X.jsx)(F.a,{primary:"Customer Bookings"})]})}),Object(X.jsx)(E.b,{to:"/search",activeStyle:{fontWeight:"bold",color:"#F4B400",textDecoration:"none"},children:Object(X.jsxs)(D.a,{button:!0,children:[Object(X.jsx)(I.a,{children:Object(X.jsx)(J.a,{})}),Object(X.jsx)(F.a,{primary:"Flight Search"})]})})]}),$=Object(X.jsxs)("div",{children:[Object(X.jsxs)(D.a,{button:!0,children:[Object(X.jsx)(I.a,{children:Object(X.jsx)(z.a,{})}),Object(X.jsx)(F.a,{primary:"Travel Settings"})]}),Object(X.jsxs)(D.a,{button:!0,children:[Object(X.jsx)(I.a,{children:Object(X.jsx)(U.a,{})}),Object(X.jsx)(F.a,{primary:"Feedback"})]}),Object(X.jsxs)(D.a,{button:!0,children:[Object(X.jsx)(I.a,{children:Object(X.jsx)(K.a,{})}),Object(X.jsx)(F.a,{primary:"Help"})]})]}),q=n(103),Q=n(49),Z=n(623),_=n(240),ee=n(4),te=n(644),ne=n(339),ae=n(280),ce=n(45),re=n(135),ie=n(645),oe=n(646),se=n(567),je=n(568),le=n(167),de=n(572);function be(e){return Object(X.jsx)(m.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}function he(e,t){return{time:e,amount:t}}var Oe=[he("00:00",0),he("03:00",300),he("06:00",600),he("09:00",800),he("12:00",1500),he("15:00",2e3),he("18:00",2400),he("21:00",2400),he("24:00",void 0)];function xe(){var e=Object(re.a)();return Object(X.jsxs)(l.a.Fragment,{children:[Object(X.jsx)(be,{children:"Today"}),Object(X.jsx)(ie.a,{children:Object(X.jsxs)(oe.a,{data:Oe,margin:{top:16,right:16,bottom:0,left:24},children:[Object(X.jsx)(se.a,{dataKey:"time",stroke:e.palette.text.secondary}),Object(X.jsx)(je.a,{stroke:e.palette.text.secondary,children:Object(X.jsx)(le.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:"User Visits"})}),Object(X.jsx)(de.a,{type:"monotone",dataKey:"amount",stroke:e.palette.primary.main,dot:!1})]})})]})}function ue(e){e.preventDefault()}var pe=Object(b.a)({depositContext:{flex:1}});function ge(){var e=pe();return Object(X.jsxs)(l.a.Fragment,{children:[Object(X.jsx)(be,{children:"Total Revenue Today"}),Object(X.jsx)(m.a,{component:"p",variant:"h4",children:"$3,024.00"}),Object(X.jsx)(m.a,{color:"textSecondary",className:e.depositContext,children:"on 21 March, 2021"}),Object(X.jsx)("div",{children:Object(X.jsx)(w.a,{color:"primary",href:"#",onClick:ue,children:"View balance"})})]})}var me=n(651),fe=n(655),ve=n(654),Se=n(652),ye=n(653);function ke(e,t,n,a,c,r){return{id:e,date:t,name:n,shipTo:a,paymentMethod:c,amount:r}}var we=[ke(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),ke(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),ke(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),ke(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),ke(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79)];function Be(e){e.preventDefault()}var Ne=Object(b.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function Ce(){var e=Ne();return Object(X.jsxs)(l.a.Fragment,{children:[Object(X.jsx)(be,{children:"Recent Bookings"}),Object(X.jsxs)(me.a,{size:"small",children:[Object(X.jsx)(Se.a,{children:Object(X.jsxs)(ye.a,{children:[Object(X.jsx)(ve.a,{children:"Date"}),Object(X.jsx)(ve.a,{children:"Name"}),Object(X.jsx)(ve.a,{children:"Ship To"}),Object(X.jsx)(ve.a,{children:"Payment Method"}),Object(X.jsx)(ve.a,{align:"right",children:"Sale Amount"})]})}),Object(X.jsx)(fe.a,{children:we.map((function(e){return Object(X.jsxs)(ye.a,{children:[Object(X.jsx)(ve.a,{children:e.date}),Object(X.jsx)(ve.a,{children:e.name}),Object(X.jsx)(ve.a,{children:e.shipTo}),Object(X.jsx)(ve.a,{children:e.paymentMethod}),Object(X.jsx)(ve.a,{align:"right",children:e.amount})]},e.id)}))})]}),Object(X.jsx)("div",{className:e.seeMore,children:Object(X.jsx)(w.a,{color:"primary",href:"#",onClick:Be,children:"See more orders"})})]})}var Me=n(664),Te=n(659),De=n(109);function Ie(e){var t=l.a.useState(!1),n=Object(i.a)(t,2),a=n[0],o=n[1],j=l.a.useState([]),d=Object(i.a)(j,2),b=d[0],h=d[1],O=a&&0===b.length,x=localStorage.getItem("token");l.a.useEffect((function(){var e=!0;if(O)return Object(r.a)(c.a.mark((function t(){var n,a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ce.a)("GET","/app/admin/allbookings",x,null);case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.next=8,a;case 8:r=t.sent,e&&h(Object.keys(r).map((function(e){return r[e].bookingID})));case 10:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[O,x]),l.a.useEffect((function(){a||h([])}),[a]);return Object(X.jsx)(Te.a,{id:"asynchronous-demo",style:{width:300},open:a,onOpen:function(){o(!0)},onClose:function(){o(!1)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e},options:b,loading:O,renderInput:function(e){return Object(X.jsx)(Me.a,Object(s.a)(Object(s.a)({},e),{},{label:"Search by booking number",variant:"outlined",InputProps:Object(s.a)(Object(s.a)({},e.InputProps),{},{endAdornment:Object(X.jsxs)(l.a.Fragment,{children:[O?Object(X.jsx)(De.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},onInputChange:function(t,n){n?Object(ce.a)("GET","/app/admin/get/"+n,x,null).then((function(e){return e.json()})).then((function(t){var n=t;console.log("set show booking: "+JSON.stringify(n)),e.setBooking(n),e.setShowBooking(!0)})):e.setShowBooking(!1)}})}var Fe=n(279),Ae=n(281),Pe=n(340),Ee=n(283);function Le(e){var t=e.children,n=e.window,a=Object(q.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return l.a.cloneElement(t,{elevation:a?4:0})}function Re(){return Object(X.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(X.jsx)(w.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var He=Object(b.a)((function(e){var t;return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{backgroundColor:"#fff",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{color:"#5f6368",marginTop:"5px",marginRight:"10px"},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),height:"100vh",overflow:"hidden"},drawerPaperClose:(t={overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},Object(o.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)}),Object(o.a)(t,"height","100vh"),t),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"auto",overflow:"auto",marginTop:"60px"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},logo:{justifyContent:"center",width:"200px",maxWidth:"50%"},hamburger:{marginRight:0},avatar:{float:"right"},spinner:{marginLeft:"500px",marginTop:e.spacing(8),display:"block",alignSelf:"center",justifyContent:"center",color:"#F4B400"},bar:{position:"relative",backgroundColor:"#4285F4"}}}));function Je(e){var t=He(),n=l.a.useState(!1),a=Object(i.a)(n,2),b=a[0],w=a[1],B=Object(j.useState)(!1),C=Object(i.a)(B,2),D=C[0],I=C[1],F=Object(j.useState)(!1),A=Object(i.a)(F,2),P=A[0],E=A[1],L=Object(j.useState)(),R=Object(i.a)(L,2),H=R[0],J=R[1],W=Object(j.useState)(),z=Object(i.a)(W,2),G=z[0],U=z[1],V=Object(j.useState)(!1),K=Object(i.a)(V,2),q=K[0],re=K[1],ie=Object(j.useState)(!1),oe=Object(i.a)(ie,2),se=oe[0],je=oe[1],le=Object(j.useState)(),de=Object(i.a)(le,2),be=de[0],he=de[1],Oe=Object(j.useState)(!1),ue=Object(i.a)(Oe,2),pe=ue[0],me=ue[1],fe=Object(j.useState)(),ve=Object(i.a)(fe,2),Se=ve[0],ye=ve[1],ke=Object(j.useState)(!1),we=Object(i.a)(ke,2),Be=we[0],Ne=we[1],Me=Object(j.useState)(),Te=Object(i.a)(Me,2),De=Te[0],Je=Te[1],We=Object(j.useState)(1),ze=Object(i.a)(We,2),Ge=ze[0],Ue=ze[1],Ve=Object(j.useState)(void 0),Ke=Object(i.a)(Ve,2),Xe=Ke[0],Ye=Ke[1];console.log(P+" AND "+(void 0!==Xe));var $e=Object(d.a)(t.paper,t.fixedHeight),qe=function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(ce.a)("POST","/app/logout",e.token,null).then((function(e){return e.json()})).then((function(e){console.log("Server reply:"+JSON.stringify(e))})).catch((function(e){console.error(e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(X.jsxs)("div",{className:t.root,children:[Object(X.jsx)(h.a,{}),Object(X.jsx)(Le,Object(s.a)(Object(s.a)({},e),{},{children:Object(X.jsx)(u.a,{position:"fixed",className:Object(d.a)(t.appBar,Object(o.a)({},t.appBarShift,b)),children:Object(X.jsxs)(p.a,{className:t.toolbar,children:[Object(X.jsx)(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){w(!0)},className:Object(d.a)(t.menuButton,b&&t.menuButtonHidden),children:Object(X.jsx)(N.a,{marginRight:0})}),Object(X.jsx)(f.a,{orientation:"vertical",flexItem:!0,className:Object(d.a)(t.menuButton,b&&t.menuButtonHidden)}),Object(X.jsxs)(y.a,{container:!0,spacing:3,children:[Object(X.jsx)(y.a,{item:!0,xs:6,children:Object(X.jsx)("img",{src:Q.a,alt:"FlightLogixLogo",className:t.logo})}),Object(X.jsx)(y.a,{item:!0,xs:6,children:Object(X.jsx)(Z.a,{style:{color:"#4285F4",margin:"15px",float:"right"},href:"/",onClick:function(){try{qe(),e.setToken(void 0),localStorage.clear("token")}catch(t){console.error(t)}},children:"Logout"})})]})]})})})),Object(X.jsxs)(O.a,{variant:"permanent",classes:{paper:Object(d.a)(t.drawerPaper,!b&&t.drawerPaperClose)},open:b,children:[Object(X.jsx)("div",{className:t.toolbarIcon,children:Object(X.jsx)(v.a,{onClick:function(){w(!1)},children:Object(X.jsx)(M.a,{})})}),Object(X.jsx)(f.a,{}),Object(X.jsx)(g.a,{children:Y}),Object(X.jsx)(f.a,{style:{marginTop:"100px"}}),Object(X.jsx)(g.a,{children:$})]}),Object(X.jsx)("main",{className:t.content,children:Object(X.jsxs)(S.a,{maxWidth:"lg",className:t.container,children:[Object(X.jsxs)(ee.b,{path:"/home",exact:!0,children:[q&&Object(X.jsxs)("div",{children:[console.log("in the condition"),Object(X.jsx)(Pe.a,{token:e.token,booking:H,showModal:q,setShowModal:re,isAdmin:!0})]}),se&&Object(X.jsxs)("div",{children:[console.log("Showing delete modal.."),Object(X.jsx)(Ee.a,{token:e.token,booking:H,showDeleteModal:se,setShowDeleteModal:je,isAdmin:!0})]}),Object(X.jsx)(m.a,{variant:"h4",color:"#DB4437",paragraph:!0,className:t.welcometext,children:"Admin Dashboard"}),Object(X.jsxs)(y.a,{container:!0,spacing:3,children:[Object(X.jsx)(y.a,{item:!0,xs:12,children:Object(X.jsxs)(k.a,{className:t.paper,style:{backgroundColor:"#F4B400",borderRadius:"spacing(4)",boxShadow:"0 10px 15px #d0efef"},children:[Object(X.jsx)(m.a,{variant:"h5",color:"#DB4437",paragraph:!0,className:t.welcometext,children:"Booking Search"}),Object(X.jsx)(Ie,{setShowBooking:I,setBooking:J}),D&&Object(X.jsxs)("div",{children:[Object(X.jsxs)("p",{children:[console.log("Showing booking.."+JSON.stringify(H))," "]}),Object(X.jsx)(Ae.a,{booking:H,setSelectedBooking:J,setShowModal:re,setShowDeleteModal:je})]}),!D&&console.log("NOT showing booking..")]})}),Object(X.jsx)(y.a,{item:!0,xs:12,md:8,lg:9,children:Object(X.jsx)(k.a,{className:$e,children:Object(X.jsx)(xe,{})})}),Object(X.jsx)(y.a,{item:!0,xs:12,md:4,lg:3,children:Object(X.jsx)(k.a,{className:$e,children:Object(X.jsx)(ge,{})})}),Object(X.jsx)(y.a,{item:!0,xs:12,children:Object(X.jsx)(k.a,{className:t.paper,children:Object(X.jsx)(Ce,{})})})]}),Object(X.jsx)(x.a,{pt:4,children:Object(X.jsx)(Re,{})})]}),Object(X.jsx)(ee.b,{path:"/viewusers",children:Object(X.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(X.jsxs)(k.a,{className:t.paper,children:[Object(X.jsx)(m.a,{variant:"h5",color:"#DB4437",paragraph:!0,className:t.welcometext,children:"User Search"}),Object(X.jsx)(Fe.a,{setShowBookings:E,setBookings:U,setOnBehalfOfUserEmail:Ye}),P&&void 0!==Xe&&Object(X.jsxs)(m.a,{variant:"body1",color:"textSecondary",align:"center",children:[" ",Object(X.jsx)(ae.a,{bookings:G,onBehalfOfUserEmail:Xe,isAdmin:!0,token:e.token})]})]})})}),Object(X.jsxs)(ee.b,{path:"/search",children:[Object(X.jsx)(T.a,{token:e.token,searchResultSetter:he,passengers:Ge,setPassengers:Ue,setIsSearching:me,setError:ye}),pe&&Object(X.jsxs)("div",{className:t.container,children:[Object(X.jsx)(te.a,{style:{backgroundColor:"#DB4437"}}),Object(X.jsx)(te.a,{style:{backgroundColor:"#F4B400"}}),Object(X.jsx)(m.a,{variant:"body1",color:"textSecondary",align:"center",children:"Searching "})]}),Se&&Object(X.jsxs)("div",{className:t.container,children:["  ",Object(X.jsxs)(m.a,{variant:"body1",color:"textSecondary",align:"center",children:[Se," "]})]}),!pe&&!Se&&Object(X.jsx)("div",{className:t.container,children:void 0!==be&&Object(X.jsxs)("div",{children:[Object(X.jsx)(_.a,{flights:be,onSelect:function(e){Ne(!0),Je(e)}}),Be&&Object(X.jsx)(ne.a,{admin:!0,stateSetter:Ne,state:Be,selectedFlight:De,passengers:Ge,token:e.token})]})})]})]})})]})}}}]);
//# sourceMappingURL=9.95c099a8.chunk.js.map