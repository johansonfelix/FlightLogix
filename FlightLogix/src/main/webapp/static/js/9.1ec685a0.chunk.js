(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[9],{659:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Re}));var a=n(36),c=n.n(a),r=n(46),i=n(21),o=n(14),s=n(37),j=n(0),l=n.n(j),d=n(13),b=n(104),h=n(106),O=n(644),x=n(107),u=n(108),p=n(621),g=n(612),m=n(634),f=n(623),v=n(613),S=n(615),y=n(84),k=n(286),w=n.n(k),B=n(287),N=n.n(B),M=n(338),C=n(629),T=n(630),D=n(631),I=n(273),F=n.n(I),A=n(38),P=n(274),E=n.n(P),L=n(275),R=n.n(L),H=n(276),J=n.n(H),W=n(277),z=n.n(W),G=n(278),U=n.n(G),V=n(2),K=Object(V.jsxs)("div",{children:[Object(V.jsx)(A.b,{to:"/home",activeStyle:{fontWeight:"bold",color:"#F4B400",textDecoration:"none"},children:Object(V.jsxs)(C.a,{button:!0,children:[Object(V.jsx)(T.a,{children:Object(V.jsx)(F.a,{})}),Object(V.jsx)(D.a,{primary:"Dashboard"})]})}),Object(V.jsx)(A.b,{to:"/viewusers",activeStyle:{fontWeight:"bold",color:"#F4B400",textDecoration:"none"},children:Object(V.jsxs)(C.a,{button:!0,children:[Object(V.jsx)(T.a,{children:Object(V.jsx)(E.a,{})}),Object(V.jsx)(D.a,{primary:"Customer Bookings"})]})}),Object(V.jsx)(A.b,{to:"/search",activeStyle:{fontWeight:"bold",color:"#F4B400",textDecoration:"none"},children:Object(V.jsxs)(C.a,{button:!0,children:[Object(V.jsx)(T.a,{children:Object(V.jsx)(R.a,{})}),Object(V.jsx)(D.a,{primary:"Flight Search"})]})})]}),X=Object(V.jsxs)("div",{children:[Object(V.jsxs)(C.a,{button:!0,children:[Object(V.jsx)(T.a,{children:Object(V.jsx)(J.a,{})}),Object(V.jsx)(D.a,{primary:"Travel Settings"})]}),Object(V.jsxs)(C.a,{button:!0,children:[Object(V.jsx)(T.a,{children:Object(V.jsx)(z.a,{})}),Object(V.jsx)(D.a,{primary:"Feedback"})]}),Object(V.jsxs)(C.a,{button:!0,children:[Object(V.jsx)(T.a,{children:Object(V.jsx)(U.a,{})}),Object(V.jsx)(D.a,{primary:"Help"})]})]}),$=n(103),q=n(49),Q=n(624),Y=n(239),Z=n(4),_=n(645),ee=n(339),te=n(280),ne=n(45),ae=n(135),ce=n(646),re=n(647),ie=n(567),oe=n(568),se=n(167),je=n(572);function le(e){return Object(V.jsx)(g.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}function de(e,t){return{time:e,amount:t}}var be=[de("00:00",0),de("03:00",300),de("06:00",600),de("09:00",800),de("12:00",1500),de("15:00",2e3),de("18:00",2400),de("21:00",2400),de("24:00",void 0)];function he(){var e=Object(ae.a)();return Object(V.jsxs)(l.a.Fragment,{children:[Object(V.jsx)(le,{children:"Today"}),Object(V.jsx)(ce.a,{children:Object(V.jsxs)(re.a,{data:be,margin:{top:16,right:16,bottom:0,left:24},children:[Object(V.jsx)(ie.a,{dataKey:"time",stroke:e.palette.text.secondary}),Object(V.jsx)(oe.a,{stroke:e.palette.text.secondary,children:Object(V.jsx)(se.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:"User Visits"})}),Object(V.jsx)(je.a,{type:"monotone",dataKey:"amount",stroke:e.palette.primary.main,dot:!1})]})})]})}var Oe=n(362);function xe(e){e.preventDefault()}var ue=Object(b.a)({depositContext:{flex:1}});function pe(){var e=ue();return Object(V.jsxs)(l.a.Fragment,{children:[Object(V.jsx)(le,{children:"Total Revenue Today"}),Object(V.jsx)(g.a,{component:"p",variant:"h4",children:"$3,024.00"}),Object(V.jsx)(g.a,{color:"textSecondary",className:e.depositContext,children:"on 21 March, 2021"}),Object(V.jsx)("div",{children:Object(V.jsx)(Oe.a,{color:"primary",href:"#",onClick:xe,children:"View balance"})})]})}var ge=n(652),me=n(656),fe=n(655),ve=n(653),Se=n(654);function ye(e,t,n,a,c,r){return{id:e,date:t,name:n,shipTo:a,paymentMethod:c,amount:r}}var ke=[ye(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),ye(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),ye(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),ye(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),ye(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79)];function we(e){e.preventDefault()}var Be=Object(b.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function Ne(){var e=Be();return Object(V.jsxs)(l.a.Fragment,{children:[Object(V.jsx)(le,{children:"Recent Bookings"}),Object(V.jsxs)(ge.a,{size:"small",children:[Object(V.jsx)(ve.a,{children:Object(V.jsxs)(Se.a,{children:[Object(V.jsx)(fe.a,{children:"Date"}),Object(V.jsx)(fe.a,{children:"Name"}),Object(V.jsx)(fe.a,{children:"Ship To"}),Object(V.jsx)(fe.a,{children:"Payment Method"}),Object(V.jsx)(fe.a,{align:"right",children:"Sale Amount"})]})}),Object(V.jsx)(me.a,{children:ke.map((function(e){return Object(V.jsxs)(Se.a,{children:[Object(V.jsx)(fe.a,{children:e.date}),Object(V.jsx)(fe.a,{children:e.name}),Object(V.jsx)(fe.a,{children:e.shipTo}),Object(V.jsx)(fe.a,{children:e.paymentMethod}),Object(V.jsx)(fe.a,{align:"right",children:e.amount})]},e.id)}))})]}),Object(V.jsx)("div",{className:e.seeMore,children:Object(V.jsx)(Oe.a,{color:"primary",href:"#",onClick:we,children:"See more orders"})})]})}var Me=n(665),Ce=n(660),Te=n(109);function De(e){var t=l.a.useState(!1),n=Object(i.a)(t,2),a=n[0],o=n[1],j=l.a.useState([]),d=Object(i.a)(j,2),b=d[0],h=d[1],O=a&&0===b.length,x=localStorage.getItem("token");l.a.useEffect((function(){var e=!0;if(O)return Object(r.a)(c.a.mark((function t(){var n,a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ne.a)("GET","/app/admin/allbookings",x,null);case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.next=8,a;case 8:r=t.sent,e&&h(Object.keys(r).map((function(e){return r[e].bookingID})));case 10:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[O,x]),l.a.useEffect((function(){a||h([])}),[a]);return Object(V.jsx)(Ce.a,{id:"asynchronous-demo",style:{width:300},open:a,onOpen:function(){o(!0)},onClose:function(){o(!1)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e},options:b,loading:O,renderInput:function(e){return Object(V.jsx)(Me.a,Object(s.a)(Object(s.a)({},e),{},{label:"Search by booking number",variant:"outlined",InputProps:Object(s.a)(Object(s.a)({},e.InputProps),{},{endAdornment:Object(V.jsxs)(l.a.Fragment,{children:[O?Object(V.jsx)(Te.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},onInputChange:function(t,n){n?Object(ne.a)("GET","/app/admin/get/"+n,x,null).then((function(e){return e.json()})).then((function(t){var n=t;console.log("set show booking: "+JSON.stringify(n)),n.bookingID&&(e.setBooking(n),e.setShowBooking(!0))})):e.setShowBooking(!1)}})}var Ie=n(279),Fe=n(281),Ae=n(340),Pe=n(283);function Ee(e){var t=e.children,n=e.window,a=Object($.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return l.a.cloneElement(t,{elevation:a?4:0})}var Le=Object(b.a)((function(e){var t;return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{backgroundColor:"#fff",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{color:"#5f6368",marginTop:"5px",marginRight:"10px"},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),height:"100vh",overflow:"hidden"},drawerPaperClose:(t={overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},Object(o.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)}),Object(o.a)(t,"height","100vh"),t),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"auto",overflow:"auto",marginTop:"60px"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},logo:{justifyContent:"center",width:"200px",maxWidth:"50%"},hamburger:{marginRight:0},avatar:{float:"right"},spinner:{marginLeft:"500px",marginTop:e.spacing(8),display:"block",alignSelf:"center",justifyContent:"center",color:"#F4B400"},bar:{position:"relative",backgroundColor:"#4285F4"}}}));function Re(e){var t=Le(),n=l.a.useState(!1),a=Object(i.a)(n,2),b=a[0],k=a[1],B=Object(j.useState)(!1),C=Object(i.a)(B,2),T=C[0],D=C[1],I=Object(j.useState)(!1),F=Object(i.a)(I,2),A=F[0],P=F[1],E=Object(j.useState)(),L=Object(i.a)(E,2),R=L[0],H=L[1],J=Object(j.useState)(),W=Object(i.a)(J,2),z=W[0],G=W[1],U=Object(j.useState)(!1),$=Object(i.a)(U,2),ae=$[0],ce=$[1],re=Object(j.useState)(!1),ie=Object(i.a)(re,2),oe=ie[0],se=ie[1],je=Object(j.useState)(),le=Object(i.a)(je,2),de=le[0],be=le[1],Oe=Object(j.useState)(!1),xe=Object(i.a)(Oe,2),ue=xe[0],ge=xe[1],me=Object(j.useState)(),fe=Object(i.a)(me,2),ve=fe[0],Se=fe[1],ye=Object(j.useState)(!1),ke=Object(i.a)(ye,2),we=ke[0],Be=ke[1],Me=Object(j.useState)(),Ce=Object(i.a)(Me,2),Te=Ce[0],Re=Ce[1],He=Object(j.useState)(1),Je=Object(i.a)(He,2),We=Je[0],ze=Je[1],Ge=Object(j.useState)(void 0),Ue=Object(i.a)(Ge,2),Ve=Ue[0],Ke=Ue[1];console.log(A+" AND "+(void 0!==Ve));var Xe=Object(d.a)(t.paper,t.fixedHeight),$e=function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(ne.a)("POST","/app/logout",e.token,null).then((function(e){return e.json()})).then((function(e){console.log("Server reply:"+JSON.stringify(e))})).catch((function(e){console.error(e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(V.jsxs)("div",{className:t.root,children:[Object(V.jsx)(h.a,{}),Object(V.jsx)(Ee,Object(s.a)(Object(s.a)({},e),{},{children:Object(V.jsx)(x.a,{position:"fixed",className:Object(d.a)(t.appBar,Object(o.a)({},t.appBarShift,b)),children:Object(V.jsxs)(u.a,{className:t.toolbar,children:[Object(V.jsx)(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){k(!0)},className:Object(d.a)(t.menuButton,b&&t.menuButtonHidden),children:Object(V.jsx)(w.a,{marginRight:0})}),Object(V.jsx)(m.a,{orientation:"vertical",flexItem:!0,className:Object(d.a)(t.menuButton,b&&t.menuButtonHidden)}),Object(V.jsxs)(S.a,{container:!0,spacing:3,children:[Object(V.jsx)(S.a,{item:!0,xs:6,children:Object(V.jsx)("img",{src:q.a,alt:"FlightLogixLogo",className:t.logo})}),Object(V.jsx)(S.a,{item:!0,xs:6,children:Object(V.jsx)(Q.a,{style:{color:"#4285F4",margin:"15px",float:"right"},href:"/",onClick:function(){try{$e(),e.setToken(void 0),localStorage.clear("token")}catch(t){console.error(t)}},children:"Logout"})})]})]})})})),Object(V.jsxs)(O.a,{variant:"permanent",classes:{paper:Object(d.a)(t.drawerPaper,!b&&t.drawerPaperClose)},open:b,children:[Object(V.jsx)("div",{className:t.toolbarIcon,children:Object(V.jsx)(f.a,{onClick:function(){k(!1)},children:Object(V.jsx)(N.a,{})})}),Object(V.jsx)(m.a,{}),Object(V.jsx)(p.a,{children:K}),Object(V.jsx)(m.a,{style:{marginTop:"100px"}}),Object(V.jsx)(p.a,{children:X})]}),Object(V.jsx)("main",{className:t.content,children:Object(V.jsxs)(v.a,{maxWidth:"lg",className:t.container,children:[Object(V.jsxs)(Z.b,{path:"/home",exact:!0,children:[ae&&Object(V.jsxs)("div",{children:[console.log("in the condition"),Object(V.jsx)(Ae.a,{token:e.token,booking:R,showModal:ae,setShowModal:ce,isAdmin:!0})]}),oe&&Object(V.jsxs)("div",{children:[console.log("Showing delete modal.."),Object(V.jsx)(Pe.a,{token:e.token,booking:R,showDeleteModal:oe,setShowDeleteModal:se,isAdmin:!0})]}),Object(V.jsx)(g.a,{variant:"h4",color:"#DB4437",paragraph:!0,className:t.welcometext,children:"Admin Dashboard"}),Object(V.jsxs)(S.a,{container:!0,spacing:3,children:[Object(V.jsx)(S.a,{item:!0,xs:12,children:Object(V.jsxs)(y.a,{className:t.paper,style:{backgroundColor:"#F4B400",borderRadius:"spacing(4)",boxShadow:"0 10px 15px #d0efef"},children:[Object(V.jsx)(g.a,{variant:"h5",color:"#DB4437",paragraph:!0,className:t.welcometext,children:"Booking Search"}),Object(V.jsx)(De,{setShowBooking:D,setBooking:H}),T&&Object(V.jsxs)("div",{children:[Object(V.jsxs)("p",{children:[console.log("Showing booking.."+JSON.stringify(R))," "]}),Object(V.jsx)(Fe.a,{booking:R,setSelectedBooking:H,setShowModal:ce,setShowDeleteModal:se})]}),!T&&console.log("NOT showing booking..")]})}),Object(V.jsx)(S.a,{item:!0,xs:12,md:8,lg:9,children:Object(V.jsx)(y.a,{className:Xe,children:Object(V.jsx)(he,{})})}),Object(V.jsx)(S.a,{item:!0,xs:12,md:4,lg:3,children:Object(V.jsx)(y.a,{className:Xe,children:Object(V.jsx)(pe,{})})}),Object(V.jsx)(S.a,{item:!0,xs:12,children:Object(V.jsx)(y.a,{className:t.paper,children:Object(V.jsx)(Ne,{})})})]})]}),Object(V.jsx)(Z.b,{path:"/viewusers",children:Object(V.jsx)(v.a,{maxWidth:"lg",className:t.container,children:Object(V.jsxs)(y.a,{className:t.paper,children:[Object(V.jsx)(g.a,{variant:"h5",color:"#DB4437",paragraph:!0,className:t.welcometext,children:"User Search"}),Object(V.jsx)(Ie.a,{setShowBookings:P,setBookings:G,setOnBehalfOfUserEmail:Ke}),A&&void 0!==Ve&&Object(V.jsxs)(g.a,{variant:"body1",color:"textSecondary",align:"center",children:[" ",Object(V.jsx)(te.a,{bookings:z,onBehalfOfUserEmail:Ve,isAdmin:!0,token:e.token})]})]})})}),Object(V.jsxs)(Z.b,{path:"/search",children:[Object(V.jsx)(M.a,{token:e.token,searchResultSetter:be,passengers:We,setPassengers:ze,setIsSearching:ge,setError:Se}),ue&&Object(V.jsxs)("div",{className:t.container,children:[Object(V.jsx)(_.a,{style:{backgroundColor:"#DB4437"}}),Object(V.jsx)(_.a,{style:{backgroundColor:"#F4B400"}}),Object(V.jsx)(g.a,{variant:"body1",color:"textSecondary",align:"center",children:"Searching "})]}),ve&&Object(V.jsxs)("div",{className:t.container,children:["  ",Object(V.jsxs)(g.a,{variant:"body1",color:"textSecondary",align:"center",children:[ve," "]})]}),!ue&&!ve&&Object(V.jsx)("div",{className:t.container,children:void 0!==de&&Object(V.jsxs)("div",{children:[Object(V.jsx)(Y.a,{flights:de,onSelect:function(e){Be(!0),Re(e)}}),we&&Object(V.jsx)(ee.a,{admin:!0,stateSetter:Be,state:we,selectedFlight:Te,passengers:We,token:e.token})]})})]})]})})]})}}}]);
//# sourceMappingURL=9.1ec685a0.chunk.js.map